# DaVinci Resolve字幕导出SRT工具
___
## 功能
本插件可以帮助您自动批量导出时间线上的字幕为SRT文件，不用再为这种机械性的工作加班，全部交给下班后的电脑（累死它）
## 使用说明
很简单的一个小工具，能读取字幕1轨的内容并输出SRT，目前支持24帧和25帧的时间线
![Xnip2023-04-16_02-49-35](assets/Xnip2023-04-16_02-49-35.png)
### 范围选择
* 左边选`「目录内所有工程」`的时候会导出项目管理器中当前工程所在文件夹内所有工程，不包含**子文件夹**
    ![Xnip2023-04-16_02-45-41](assets/Xnip2023-04-16_02-45-41.png)

    ![截屏2023-04-16 02.39.12](assets/%E6%88%AA%E5%B1%8F2023-04-16%2002.39.12.png) 

* 右边选`「所有时间线」`的时候会导出工程里所有时间线，**已禁用的时间线**不会被导出
    ![Xnip2023-04-16_02-54-49](assets/Xnip2023-04-16_02-54-49.png)

### 文件命名
* 命名有两种方式，`「以时间线名称」`和`「以工程名称」`，下方会给出一个**实时的名称预览**
    > 当范围选择的是`「工程中所有时间线」`时，`「以工程名称」`的命名方式不可选
    
    ![Xnip2023-04-16_02-58-37](assets/Xnip2023-04-16_02-58-37.png)

* 可以为你的SRT添加前缀和后缀，虽然你也可以在Finder里全选添加，但……这不是方便一些嘛
    >举个例子，前缀可以添加项目名称、版本号，后缀可以添加今天的日期。比如：**项目名称_C01_EP01_230416**
    
    ![Xnip2023-04-16_03-00-09](assets/Xnip2023-04-16_03-00-09.png)

### 导出
* 点击`「选择路径」`，或者直接粘贴路径到下面的对话框中，点击导出即可
    > * 点按`「导出」`按钮会自动保存当前工程
    > * 导出完成后，`「导出」`按钮会变为**不可选**状态，避免不小心碰到了再运行一次（一部40集的戏开工程就要好久）。更改任何其他的设置可以刷新`「导出」`按钮

[Subtitle2SRT刷新导出按钮.mp4](assets/%E6%9C%AA%E5%91%BD%E5%90%8D.mp4)


> 如果导出路径不存在时点击`「导出」`，会提示**路径不存在**，重新选择路径或更改其他设置以刷新`「导出」`按钮状态。
    
 [Subtitle2SRT路径不存在.mp4](assets/%E8%B7%AF%E5%BE%84%E4%B8%8D%E5%AD%98%E5%9C%A8.mp4)

    
> 如果有的时间线上没有字幕，会提示`「有失败项」`，打开控制台查看报错信息

![Xnip2023-04-16_04-35-07](assets/Xnip2023-04-16_04-35-07.png)
![Xnip2023-04-16_04-37-45](assets/Xnip2023-04-16_04-37-45.png)


## 已知的问题
* 在25帧的时间线上导出SRT有时会有1ms的误差，暂不清楚达芬奇是怎么算出来类似00:00:00,959这样的时间码的，但是不影响正常使用。
    `测试方法：使用一集三十分钟的工程，使用脚本导出SRT，再将SRT回插到工程上，切点及字幕块内容都与原字幕一致`
![Xnip2023-04-16_04-41-45](assets/Xnip2023-04-16_04-41-45.png)

## 安装
* 点击阅读原文获取脚本
* 将脚本文件放在`/Library/Application Support/Blackmagic Design/DaVinci Resolve/Fusion/Scripts`下，如果没有这个目录可以自己创建一个，还可以建立子文件夹方便查找，比如`/Library/Application Support/Blackmagic Design/DaVinci Resolve/Fusion/Scripts/Deliver/Subtitle 2 SRT/`
> * 支持**Python2.7**和**Python3.6**
> * 本插件基于**DaVinci Resolve 17**开发，暂未测试**DaVinci Resolve18**
## 最后
Hope u like it!

![](assets/16810575955727.jpg)

